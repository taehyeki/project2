{% extends 'base.html' %}
{% block head %}
    <style>
        body {
            background-color: #faf8e1;
        }
    </style>
{% endblock %}
{% block content %}
    <div id="dog-container">
        <div id="dog-title-box">
            <div id="dog-title">
                <h1>ë‹¹ì‹ ì€ ê°•ì•„ì§€ ìƒì…ë‹ˆë‹¤!</h1>
            </div>


            <div id="dog-attr">
                <h3>ê°•ì•„ì§€ìƒ íŠ¹ì§•</h3>
                <ul>
                    <li>ì–¼êµ´í˜•ê³¼ ì´ëª©êµ¬ë¹„ê°€ ë™ê¸€ë™ê¸€í•˜ë‹¤ !</li>
                    <li>ëˆˆê¼¬ë¦¬ê°€ ì²˜ì ¸ì„œ ì„ í•´ ë³´ì¸ë‹¤ !</li>
                    <li>í†µí†µí•œ ë³¼ì‚´ !</li>
                    <li>ì„ í•˜ê³  í›ˆí›ˆí•œ ë™ì•ˆìƒ !</li>
                    <li><strong>ê²°í˜¼í•˜ê³  ì‹¶ì€ í›ˆë‚¨í›ˆë…€</strong>ğŸ’‘ </li>
                </ul>
            </div>
        </div>
        <div id="dog-youtube-box">
            <iframe width="720" height="400"
                    src="https://www.youtube.com/embed/mevUPNWuGKI"
                    title="YouTube video player" frameborder="0"
                    allow="accelerometer; autoplay; clipboard-write;
                    encrypted-media; gyroscope; picture-in-picture" allowfullscreen>
            </iframe>
        </div>
        <div id="dog-sel-box">
            <div id="dog-sel-title">
                <h1>ê°•ì•„ì§€ìƒ ì—°ì˜ˆì¸ ğŸ¶</h1>
            </div>
            <div class="img-container">
                <div class="imgBox">
                    <img src="../static/imgs/d2.jpg" alt="ì´ë¯¸ì§€1" id="btn1" >
                    <img src="../static/imgs/d3.jpg" alt="ì´ë¯¸ì§€2" id="btn2">
                    <img src="../static/imgs/d5.jpg" alt="ì´ë¯¸ì§€3" id="btn3" >
                    <img src="../static/imgs/d6.jpg" alt="ì´ë¯¸ì§€4" id="btn4" >
                </div>
                <div class="prev">
                    <img src="../static/imgs/slide-icon-1.jpg" alt="í™”ì‚´í‘œ1">
                </div>
                <div class="next">
                    <img src="../static/imgs/slide-icon-1.jpg" alt="í™”ì‚´í‘œ1">
                </div>
                <div class="btnBox">
                    <label data-index = '0'></label>
                    <label data-index = '1'></label>
                    <label data-index = '2'></label>
                    <label data-index = '3'></label>
                </div>
            </div>
        </div>
        <div id="dog-mbti-box">

                <h1>ë‚˜ëŠ” ë¬´ìŠ¨ ê°•ì•„ì§€ì¼ê¹Œ !?</h1>

            <iframe src="https://dog-mbti.netlify.app/" width="100%" height="600px">
            </iframe>
        </div>
        <div id="dog-extends-content">
            <h1>ê°•ì•„ì§€ìƒ ì´ìƒí˜• ì›”ë“œì»µ</h1>
            <p>ì‚¬ì§„ì„ í´ë¦­ í•´ë³´ì„¸ìš”âœ” </p>
            <img id="dog-img" src="../static/imgs/pngegg.png">

        </div>

    </div>
{% endblock %}
{% block script %}
    <script>
        const dogImg = document.getElementById('dog-img')
        dogImg.onclick =()=>{ window.location.href = 'https://www.piku.co.kr/w/9Mu7ze' }
        $(function() {

            var imgs = $('.imgBox img');
            var btns = $('.btnBox label');
            var toNext = $('.next img');
            var toPrev = $('.prev img');

            function setting(thing) {
                imgs.css({left : '-822px', opacity : 0});
                imgs.eq(thing).css({left : 0, opacity : 1});
                btns.css({backgroundColor : 'lightgray'});
                btns.eq(thing).css({backgroundColor : 'lightcoral'});
                btns.attr('g','0');
                btns.eq(thing).attr('g','1');
            }

            function init() {
                imgs.eq(0).css({left : 0});
                btns.eq(0).css({backgroundColor : 'lightcoral'});
            }

            init();



            var number = 0;
            setInterval(function() {
                for(let j = 0; j <= 3; j++){
                    if(imgs.eq(j).attr('onImg') == 'Y'){
                        var flag = 1;  // ì†ì„±ê°’ì— Yê°€ ìˆë‹¤ëŠ” ì˜ë¯¸
                        break;
                    }
                    else
                        var flag = 0; // ì†ì„±ê°’ì— Yê°€ ì—†ë‹¤ëŠ” ì˜ë¯¸
                }
                if (flag == 0){ // Yê°€ ìˆìœ¼ë©´ setintervalì„ ifë¬¸ì„ ì•ˆëŒê¸° ë•Œë¬¸ì— ì‹¤í–‰x
                    for(let i = 0; i <= 3; i++){
                        if(btns.eq(i).attr('g') == 1 ){
                            number = i;
                            btns.attr('g','0');
                        }
                    }
                    var next = (number + 1) % 4;
                    btns.css({backgroundColor : 'lightgray'});
                    imgs.css({left: '-822px', opacity : 0});
                    imgs.eq(next).css({left: 0, opacity : 1});
                    btns.eq(next).css({backgroundColor : 'lightcoral'});
                    number = next;
                }
            },4000)




            btns.click(function() {
                var index = $(this).attr('data-index');
                setting(index);
            });

            imgs.mouseenter(function() { // ë§ˆìš°ìŠ¤ê°€ ì´ë¯¸ì§€ì— ë“¤ì–´ì˜¤ë©´ ì†ì„±ê°’ì„ ë§Œë“¦
                $(this).attr('onImg','Y');
            });

            imgs.mouseleave(function() { // ë§ˆìš°ìŠ¤ê°€ ì´ë¯¸ì§€ì—ì„œ ë‚˜ê°€ë©´ ì†ì„±ê°’ì„ ë§Œë“¦
                $(this).attr('onImg','N');
            });

            toNext.click(function() { // í™”ì‚´í‘œë¥¼ ëˆ„ë¥´ë©´ í˜„ì¬ ì´ë¯¸ì§€ì—ì„œ ë‹¤ìŒì´ë¯¸ì§€ë¡œ ë„˜ì–´ê°€ëŠ” ê¸°ëŠ¥
                for(var i = 0; i <= 3; i++){
                    if (imgs.eq(i).css('opacity') == 1){ // í˜„ì¬ ì´ë¯¸ì§€ì˜ ê¸°ì¤€ì„ opacity == 1ì¸ ê²ƒìœ¼ë¡œ ì¡ìŒ
                        var next = (i + 1) % 4;
                        setting(next);
                    }
                }
            });

            toPrev.click(function() {
                for(var i = 0; i <= 3; i++){
                    if (imgs.eq(i).css('opacity') == 1){
                        var prev = (i - 1)% 4 ;
                        if (prev < 0) prev = 3;
                        setting(prev);
                    }
                }
            });

        });


    </script>
{% endblock %}